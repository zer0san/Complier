<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>编译器在线工具</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <script src="./script.js"></script>
    <script src="./spilter.js"></script>
    <script src="./toggle.js"></script>

    <div id="container">
        <div id="divLeft" class="div-spilter">
            <div id="input" class="card">
                <div class="actions">
                    <label for="read_file" class="upload-btn">选择文件</label>
                    <input type="file" id="read_file" accept=".c,.txt" style="display: none;">
                    <button id="upload">编译运行</button>
                </div>
                <textarea id="ipt_area" placeholder="请输入C语言代码...">int f()
{
    return 1;
}

int main(){
    int a;
    a = 1;
    a = f();
    return 0;
}</textarea>
            </div>
        </div>

        <div class="spilter" title="拖动调整大小，双击隐藏/显示左侧面板"></div>

        <div id="divRight" class="div-spilter">
            <div id="output-container" class="card">
                <div id="opt_title">编译结果
                    <button id="toggle-all" class="toggle-btn" title="点击展开/收起所有">▼</button>
                </div>

                <div class="output-section">
                    <div class="output-header" data-target="opt_area">
                        <span class="output-label">四元式中间代码</span>
                        <button class="toggle-btn" title="点击展开/收起">▼</button>
                    </div>
                    <textarea id="opt_area" class="output-textarea" placeholder="四元式中间代码将在这里显示..." readonly></textarea>
                </div>

                <div class="output-section">
                    <div class="output-header" data-target="asm">
                        <span class="output-label">汇编代码</span>
                        <button class="toggle-btn" title="点击展开/收起">▼</button>
                    </div>
                    <textarea id="asm" class="output-textarea" placeholder="目标汇编代码将在这里显示..." readonly></textarea>
                </div>

                <div class="output-section">
                    <div class="output-header" data-target="tokens">
                        <span class="output-label">词法分析结果</span>
                        <button class="toggle-btn" title="点击展开/收起">▼</button>
                    </div>
                    <textarea id="tokens" class="output-textarea" placeholder="Token序列将在这里显示..." readonly></textarea>
                </div>

                <div class="output-section">
                    <div class="output-header" data-target="symbol_table">
                        <span class="output-label">符号表</span>
                        <button class="toggle-btn" title="点击展开/收起">▼</button>
                    </div>
                    <textarea id="symbol_table" class="output-textarea" placeholder="符号表将在这里显示..." readonly></textarea>
                </div>
            </div>
        </div>
    </div>
</body>

</html>